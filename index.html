<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Wisata Kampung Parakanceuri</title>

<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#f4f6f8}
.header{display:flex;align-items:center;gap:15px;padding:15px 20px;background:#2ecc71;color:#fff}
.logo-img{width:50px;height:50px;border-radius:50%;background:#fff;padding:3px}
.site-title{font-size:20px;margin:0}
.nav{display:flex;gap:12px;padding:12px;background:#1e8449;overflow-x:auto;white-space:nowrap}
.nav::-webkit-scrollbar{display:none}
.nav a{flex:0 0 auto;color:#fff;text-decoration:none;font-weight:bold;padding:8px 14px;border-radius:8px;background:rgba(255,255,255,.15)}
.hero{background:url('background.JPG') center/cover no-repeat;height:260px;position:relative}
.hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.5)}
.section{background:#fff;margin:20px;padding:20px;border-radius:16px}
.input{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #ccc}
.btn{margin-top:12px;padding:12px;width:100%;border:none;border-radius:8px;background:#27ae60;color:#fff;font-weight:bold}
.review-item{border-bottom:1px solid #eee;padding:15px 0}
.review-rating{color:#f1c40f;font-size:18px}
.footer{text-align:center;padding:15px;background:#2ecc71;color:#fff}
</style>
</head>

<body>

<header class="header">
  <img src="logo.jpeg" class="logo-img">
  <h1 class="site-title">Wisata Kampung Parakanceuri</h1>
</header>

<nav class="nav">
  <a href="index.html">Beranda</a>
  <a href="edukasi.html">Edukasi</a>
  <a href="homestay.html">Homestay</a>
  <a href="produk.html">Produk</a>
  <a href="tentang.html">Tentang</a>
</nav>

<section class="hero"></section>

<section class="section">
<h2>Selamat Datang</h2>
<p>Website Resmi Wisata Kampung Parakanceuri adalah destinasi wisata edukasi, budaya, dan alam.</p>
</section>

<section class="section">
<h3>Ulasan Pengunjung</h3>
<div id="reviewList"></div>

<form id="reviewForm">
  <input id="name" class="input" placeholder="Nama" required>
  <textarea id="comment" class="input" placeholder="Komentar" required></textarea>

  <select id="rating" class="input">
    <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
    <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê</option>
    <option value="3">‚≠ê‚≠ê‚≠ê</option>
    <option value="2">‚≠ê‚≠ê</option>
    <option value="1">‚≠ê</option>
  </select>

  <button class="btn">Kirim</button>
</form>
</section>

<footer class="footer">¬© 2026 Wisata Kampung Parakanceuri</footer>

<!-- üî• FIREBASE + REVIEW DINAMIS -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getFirestore, collection, addDoc, onSnapshot, query, orderBy }
from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

/* CONFIG FIREBASE */
const firebaseConfig = {
  apiKey: "AIzaSyDGtaYv3aoWCgIgRfolj8vsOcihKCVc39k",
  authDomain: "kampung-parakanceuri.firebaseapp.com",
  projectId: "kampung-parakanceuri",
  storageBucket: "kampung-parakanceuri.appspot.com",
  messagingSenderId: "292542466143",
  appId: "1:292542466143:web:94d68782579f66060373ea"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const list = document.getElementById("reviewList");
const form = document.getElementById("reviewForm");

/* LOAD ULASAN REALTIME */
onSnapshot(
  query(collection(db,"reviews"), orderBy("time","desc")),
  snap=>{
    list.innerHTML="";
    snap.forEach(doc=>{
      const r=doc.data();
      list.innerHTML+=`
        <div class="review-item">
          <b>${r.name}</b>
          <div class="review-rating">${"‚òÖ".repeat(r.rating)}</div>
          <div>${r.comment}</div>
        </div>`;
    });
  }
);

/* KIRIM ULASAN */
form.onsubmit=async e=>{
  e.preventDefault();
  await addDoc(collection(db,"reviews"),{
    name:name.value,
    comment:comment.value,
    rating:Number(rating.value),
    time:Date.now()
  });
  form.reset();
};
</script>

</body>
</html>
